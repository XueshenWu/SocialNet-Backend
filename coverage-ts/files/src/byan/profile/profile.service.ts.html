
  <!DOCTYPE html>
  <html>
    <head>
      <title>profile.service.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="..\..\..\..\assets\source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="..\..\..\..\assets\source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="..\..\..\..\index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src\byan\profile\profile.service.ts</td><td class="">100.00%</td><td class="">80%</td><td class="">33</td><td class="">33</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { Injectable } from &#x27;@nestjs/common&#x27;;
// import { CreateProfileDto } from &#x27;./dto/create-profile.dto&#x27;;
// import { UpdateProfileDto } from &#x27;./dto/update-profile.dto&#x27;;
import { DbUserService } from &#x27;../../xueshen/db/user/db_user.service&#x27;;
import UpdateProfileDto from &#x27;src/xueshen/dto/updateProfileDto&#x27;;
import { User, Profile } from &quot;@prisma/pg&quot;;

@Injectable()
export class ProfileService {
  constructor(private readonly dbUserService: DbUserService) {}

  // Only for testing
  // create(createProfileDto: CreateProfileDto) {
  //   console.log(&quot;This action adds a new profile&quot;);
  //   return &#x27;This action adds a new profile&#x27;;
  // }
  // create(email: string, password: string) {
  //   return `This action returns all profile`;
  // }

  // findAll() {
  //   return `This action returns all profile`;
  // }

  // findOne(id: number) {
  //   return `This action returns a #${id} profile`;
  // }

  // update(id: number, updateProfileDto: UpdateProfileDto) {
  //   return `This action updates a #${id} profile`;
  // }

  // update(id: number, updateProfileDto: UpdateProfileDto) {
  //   return `This action updates a #${id} profile`;
  // }

  // only for testing
  // create(createProfileDto: PgPrisma.ProfileCreateInput) {
  //   return this.dbUserService.createProfile(createProfileDto);
  // }

  // update(userId: string, updateProfileDto: PgPrisma.ProfileUpdateInput) {
  //   return this.dbService.updateProfileNew(userId, updateProfileDto);
  // }

  async getProfileByUserId(userId: string): Promise&lt;Profile | null&gt;  {
    return await this.dbUserService.query_profile_by_user_id(userId);
  }

  async updateProfile(updateProfileDto: UpdateProfileDto): Promise&lt;boolean&gt; {
    return await this.dbUserService.updateProfile(updateProfileDto);
  }

  async getUserByEmail(email: string): Promise&lt;User | null&gt; {
    return await this.dbUserService.query_user_by_email(email);
  }

  // remove(id: number) {
  //   return `This action removes a #${id} profile`;
  // }
}
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 04 Apr 2024 16:26:48 GMT</p>
    </body>
  </html>
  