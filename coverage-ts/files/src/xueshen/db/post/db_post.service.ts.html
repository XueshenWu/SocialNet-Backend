
  <!DOCTYPE html>
  <html>
    <head>
      <title>db_post.service.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="..\..\..\..\..\assets\source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="..\..\..\..\..\assets\source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="..\..\..\..\..\index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src\xueshen\db\post\db_post.service.ts</td><td class="">84.33%</td><td class="">80%</td><td class="">453</td><td class="">382</td><td class="">71</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import { Injectable } from &quot;@nestjs/common&quot;;
import { ConnectionService } from &quot;../connection/connection.service&quot;;
import { Post } from &quot;@prisma/mongo&quot;;
import { Logger } from &quot;@nestjs/common&quot;;
import CreatePostDto from &quot;../../dto/createPostDto&quot;;
import CreateReplyDto from &quot;../../dto/createReplyDto&quot;;
import CreateRepostDto from &quot;../../dto/createRepostDto&quot;;
import { Profile } from &quot;@prisma/pg&quot;
import type { Post_Author } from &quot;src/xueshen/types/post-t&quot;;



@Injectable()
export class DbPostService {

    private readonly logger = new Logger();


    constructor(private readonly connectionService: ConnectionService) {

    }

    async getRepliesByPostId(postId: string): Promise&lt;Post[]&gt; {
        try {
            const post = await this.connectionService.mongoClient.post.findUnique({
                where: {
                    id: postId
                }
            })

            if (post === null || post.status !== &quot;PUBLISHED&quot;) {
                return [];
            }

            const repliy_ids = post.replies;

            const replies = await this.connectionService.mongoClient.post.findMany({
                where: {
                    id: {
                        in: repliy_ids
                    }
                }
            })

            return replies.filter((reply) =&gt; reply.status === &quot;PUBLISHED&quot;);
        } catch (e) {
            this.logger.verbose(e);
            return [];
        }
    }


    async query_origin_posts_by_user_id(id: string): Promise&lt;Post[]&gt; {
        try {
            const posts = await this.connectionService.mongoClient.post.findMany({
                where: {
                    authorId: id,
                    repostParentId: null
                }
            })
            return posts;
        } catch (e) {
            this.logger.verbose(e);
            return [];
        }
    }

    async query_reposted_posts_by_user_id(id: string): Promise&lt;Post[]&gt; {
        try {
            const posts = await this.connectionService.mongoClient.post.findMany({
                where: {
                    authorId: id,
                    repostParentId: {
                        not: null
                    }
                }
            })
            return posts;
        } catch (e) {
            this.logger.verbose(e);
            return [];
        }
    }


    //tested
    async addPost(post: CreatePostDto): Promise&lt;string | undefined&gt; {
        try {


            const user = await this.connectionService.mongoClient.user.findUnique({
                where: {
                    id: post.authorId
                }
            })
            if (user === null) {
                return undefined;
            }

            const postRecord = await this.connectionService.mongoClient.post.create({
                data: {
                    ...post.getNoneEmptyData()
                }
            })
            await this.connectionService.mongoClient.user.update({
                data: {
                    posts: {
                        push: postRecord.id
                    }
                },
                where: {
                    id: post.authorId
                }
            })
            return postRecord.id;
        } catch (e) {
            console.log(e)
            this.logger.warn(e);
            return undefined
        }
    }

    async query_liked_posts_by_user_id(id: string): Promise&lt;String[]&gt; {
        try {
            const id_posts = await this.connectionService.mongoClient.likeTable.findMany({
                where: {
                    userId: id
                }
            })
            return id_posts.map((x) =&gt; x.postId);
        } catch (e) {
            this.logger.verbose(e);
            return [];
        }
    }



    async updatePostStatus(postId: string, status: &quot;DRAFT&quot; | &quot;UNDER_REVIEW&quot; | &quot;PUBLISHED&quot; | &quot;HIDDEN&quot;): Promise&lt;boolean&gt; {
        try {
            await this.connectionService.mongoClient.post.update({
                where: {
                    id: postId
                },
                data: {
                    status: status
                }
            })
            return true;
        } catch (e) {
            this.logger.verbose(e);
            return false;
        }
    }

    async likePost(userId: string, postId: string): Promise&lt;string | undefined&gt; {
        try {

            const post = await this.connectionService.mongoClient.post.findUnique({
                where: {
                    id: postId
                }
            })
            if (post === null || post.status !== &quot;PUBLISHED&quot;) {
                return undefined;
            }


            const likeRecord = await this.connectionService.mongoClient.likeTable.create({
                data: {
                    userId: userId,
                    postId: postId
                }
            })


            return likeRecord.id;
        } catch (e) {
            this.logger.verbose(e);
            return undefined;
        }
    }

    async unlikePost(userId: string, postId: string): Promise&lt;boolean&gt; {
        try {

            const post = await this.connectionService.mongoClient.post.findUnique({
                where: {
                    id: postId
                }
            })
            if (post === null || post.status !== &quot;PUBLISHED&quot;) {
                return false;
            }


            await this.connectionService.mongoClient.likeTable.delete({
                where: {
                    postId_userId: {
                        postId: postId,
                        userId: userId
                    }
                }
            })
            return true;
        } catch (e) {
            this.logger.verbose(e);
            return false;
        }
    }


    //tested
    async addReply(reply: CreateReplyDto): Promise&lt;string | undefined&gt; {
        try {
            const id = await this.connectionService.mongoClient.$transaction(async (tx) =&gt; {

                const originPost = await tx.post.findUnique({
                    where: {
                        id: reply.replyParentId
                    }
                })
                if (originPost === null || originPost.status !== &quot;PUBLISHED&quot;) {
                    return undefined;
                }

                const id = await this.addPost(new CreatePostDto(reply.content, reply.authorId, reply.media, reply.content, &quot;DRAFT&quot;))
                if (id === undefined) {
                    return undefined;
                }
                await tx.post.update({
                    where: {
                        id: reply.replyParentId
                    },
                    data: {
                        replies: {
                            push: reply.replyParentId
                        }
                    }
                })
                return id;
            })

            console.log(&quot;id:&quot;, id)
            return id;
        } catch (e) {
            console.log(e)
            this.logger.verbose(e);
            return undefined;
        }
    }


    //hide a post/reply
    async hidePost(postId: string): Promise&lt;boolean&gt; {
        try {
            await this.connectionService.mongoClient.post.update({
                where: {
                    id: postId
                },
                data: {
                    status: &quot;HIDDEN&quot;
                }
            })
            return true;
        } catch (e) {
            this.logger.verbose(e);
            return false;
        }
    }



    async repost(createRepostDto: CreateRepostDto): Promise&lt;string | undefined&gt; {
        try {
            const id = await this.connectionService.mongoClient.$transaction(async (tx) =&gt; {
                const record = await tx.post.create({
                    data: {
                        ...createRepostDto.getNoneEmptyData()
                    }
                })
                await tx.post.update({
                    where: {
                        id: createRepostDto.repostParentId
                    },
                    data: {
                        reposts: {
                            push: createRepostDto.repostParentId
                        }
                    }
                })
                return record.id;
            })
            return id;
        } catch (e) {
            this.logger.verbose(e);
            return undefined;
        }
    }



    // return undefined if not found
    async findPostByPostId(postId: string): Promise&lt;Post | undefined&gt; {
        try {
            const post = await this.connectionService.mongoClient.post.findUnique({
                where: {
                    id: postId
                }
            })
            return post ?? undefined;
        } catch (e) {
            this.logger.verbose(e);
            return undefined;
        }


    }


    async findPostsByUserId(userId: string): Promise&lt;Post[]&gt; {
        const res = await this.connectionService.mongoClient.post.findMany({
            where: {
                authorId: userId
            }
        })
        return res;
    }



    async query_post_by_post_id(postId: string): Promise&lt;Post_Author| null&gt; {
        const post = await this.connectionService.mongoClient.post.findUnique({
            where: {
                id: postId
            }
        })

        if (post === null) {
            return null;
        }
        const user = await this.connectionService.pgClient.profile.findUnique({
            where: {
                userId: post.authorId
            }
        })

        let res: Post_Author = { ...post, author: user }
        return res;
    }

    async getPostIds():Promise&lt;string[]&gt;{
        return (await this.connectionService.mongoClient.post.findMany({
            select:{
                id:true
            }
        })).map(record=&gt;record.id)
    }





}</textarea><pre id="annotations" style="display:none">[{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:8,&quot;character&quot;:14,&quot;text&quot;:&quot;Post_Author&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:35,&quot;text&quot;:&quot;reply&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:45,&quot;text&quot;:&quot;reply&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:44,&quot;character&quot;:51,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:46,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:45,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:62,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:61,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:79,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:78,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:116,&quot;character&quot;:24,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:117,&quot;character&quot;:29,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:115,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:33,&quot;text&quot;:&quot;x&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:39,&quot;text&quot;:&quot;x&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:129,&quot;character&quot;:41,&quot;text&quot;:&quot;postId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:131,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:130,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:150,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:149,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:178,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:177,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:206,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:205,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:215,&quot;character&quot;:84,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:22,&quot;text&quot;:&quot;originPost&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:41,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:44,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:217,&quot;character&quot;:49,&quot;text&quot;:&quot;findUnique&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:219,&quot;character&quot;:24,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:219,&quot;character&quot;:34,&quot;text&quot;:&quot;replyParentId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:222,&quot;character&quot;:20,&quot;text&quot;:&quot;originPost&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:222,&quot;character&quot;:43,&quot;text&quot;:&quot;originPost&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:222,&quot;character&quot;:54,&quot;text&quot;:&quot;status&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:230,&quot;character&quot;:22,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:230,&quot;character&quot;:25,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:230,&quot;character&quot;:30,&quot;text&quot;:&quot;update&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:24,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:232,&quot;character&quot;:34,&quot;text&quot;:&quot;replyParentId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:236,&quot;character&quot;:28,&quot;text&quot;:&quot;push&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:236,&quot;character&quot;:40,&quot;text&quot;:&quot;replyParentId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:246,&quot;character&quot;:24,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:247,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:245,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:266,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:265,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:275,&quot;character&quot;:84,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:276,&quot;character&quot;:22,&quot;text&quot;:&quot;record&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:276,&quot;character&quot;:37,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:276,&quot;character&quot;:40,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:276,&quot;character&quot;:45,&quot;text&quot;:&quot;create&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:281,&quot;character&quot;:22,&quot;text&quot;:&quot;tx&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:281,&quot;character&quot;:25,&quot;text&quot;:&quot;post&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:281,&quot;character&quot;:30,&quot;text&quot;:&quot;update&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:283,&quot;character&quot;:24,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:283,&quot;character&quot;:44,&quot;text&quot;:&quot;repostParentId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:287,&quot;character&quot;:28,&quot;text&quot;:&quot;push&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:287,&quot;character&quot;:50,&quot;text&quot;:&quot;repostParentId&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:291,&quot;character&quot;:23,&quot;text&quot;:&quot;record&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:291,&quot;character&quot;:30,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:295,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:294,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:312,&quot;character&quot;:32,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:311,&quot;character&quot;:17,&quot;text&quot;:&quot;e&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:347,&quot;character&quot;:12,&quot;text&quot;:&quot;res&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:347,&quot;character&quot;:17,&quot;text&quot;:&quot;Post_Author&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:348,&quot;character&quot;:15,&quot;text&quot;:&quot;res&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:331,&quot;character&quot;:57,&quot;text&quot;:&quot;Post_Author&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:356,&quot;character&quot;:16,&quot;text&quot;:&quot;record&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:356,&quot;character&quot;:24,&quot;text&quot;:&quot;record&quot;,&quot;kind&quot;:1},{&quot;file&quot;:&quot;src\\xueshen\\db\\post\\db_post.service.ts&quot;,&quot;line&quot;:356,&quot;character&quot;:31,&quot;text&quot;:&quot;id&quot;,&quot;kind&quot;:1}]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Thu, 04 Apr 2024 16:26:48 GMT</p>
    </body>
  </html>
  